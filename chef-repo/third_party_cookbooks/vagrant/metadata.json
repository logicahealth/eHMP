{"name":"vagrant","version":"0.5.0","description":"Installs Vagrant and provides a vagrant_plugin LWRP for installing Vagrant plugins.","long_description":"# vagrant Cookbook\n\nInstalls [Vagrant](https://www.vagrantup.com/) 1.6+ and manages Vagrant plugins via a `vagrant_plugin` LWRP.\n\nThis cookbook is not intended to be used for vagrant \"1.0\" (gem install) versions. A recipe is provided for removing the gem, see __Recipes__.\n\nThis cookbook is not supported for installing versions of Vagrant older than 1.6.\n\n# Requirements\n\n**This cookbook should not be used on platforms that Vagrant itself does not support.**\n\n## Vagrant Supported Platforms\n\nVagrant does not specifically list supported platforms on the project web site. However, the only platforms with [packages provided](https://www.vagrantup.com/downloads.html) are:\n\n* Mac OS X\n* Windows\n* Linux (deb-package based platforms, e.g., Debian and Ubuntu)\n* Linux (rpm-packaged based platforms, e.g., RHEL and CentOS)\n\nOther platforms are not supported. This cookbook attempts to exit gracefully in places where unsupported platforms may cause an issue, but it is **strongly recommended** that this cookbook not be on an unsupported platform's node run list or used as a dependency for cookbooks used on unsupported platforms.\n\n## Tested with Test Kitchen\n\n* Debian 7.6\n* Ubuntu 14.04\n* CentOS 6.5\n* OS X 10.9\n* Windows 8.1\n\nMay work on other Debian/RHEL family distributions with or without modification.\n\nThis cookbook has [test-kitchen](http://kitchen.ci) support for Windows and Mac OS X, but requires custom Vagrant boxes.\n\nBecause Vagrant is installed as a native system package, Chef must run as a privileged user (e.g., root or Administrator).\n\n# Attributes\n## Vagrant Package\nThe attributes defined by this recipe are organized under the\n`node['vagrant']` namespace.\n\nAttribute | Description | Type   | Default\n----------|-------------|--------|--------\n['version'] | Vagrant package version (Linux/Mac only) | String | '1.8.1'\n['msi_version'] | Vagrant package version (Windows only) | String | '1.8.1'\n['url'] | Download Vagrant package from this URL | String | Calculated by `vagrant_package_uri` helper method.\n['checksum'] | Vagrant package checksum (SHA256) | String | Calculated by `vagrant_sha256sum` helper method.\n\n## 'install_plugins' recipe\nAttributes in the table below are under the `node['vagrant']` namespace.\n\nAttribute | Description | Type   | Default\n----------|-------------|--------|--------\n['plugins'] | An array of plugins, e.g. `%w(vagrant-aws vagrant-ohai vagrant-omnibus)` | Array | nil\n['plugins'] | If you want to install specific plugin versions, use the second form of the `['plugins']` array, e.g. [ {name: 'vagrant-ohai', version: '0.1.3'}, {name: 'vagrant-aws', version: '0.6.0'} ] | Array of Hashes | nil\n\n* `node['vagrant']['plugins']` - A array of plugins. The elements in\n  the array can be a string or a hash. String elements should be the\n  names of plugins to install. Hash elements should have two keys,\n  \"name\" and \"version\", for the plugin name and its version to\n  install. This is used by the `vagrant_plugin` resource in the\n  `install_plugins` recipe.\n* `node['vagrant']['user']` - A user that is used to automatically install plugins as for the `node['vagrant']['plugins']` attribute.\n\n# Resources\n\nThis cookbook includes the `vagrant_plugin` resource, for managing\nvagrant plugins.\n\n## vagrant_plugin\n\n### Actions\n\n- `:install`: installs the specified plugin. Default.\n- `:uninstall`: uninstalls the specified plugin\n- `:remove`: uninstalls the specified plugin\n\n### Attribute Parameters\n\n- `:plugin_name`: name attribute, the name of the plugin, e.g.\n  \"vagrant-omnibus\".\n- `:version`: version of the plugin to installed, must be specified as\n  a string, e.g., \"1.0.2\"\n- `:user`: a user to run plugin installation as. Usually this is for single user systems (like workstations).\n- `:sources`: alternate locations to search for plugins. This would commonly\n  be used if you are hosting your vagrant plugins in a custom gem repo\n\n### Examples\n\n```ruby\nvagrant_plugin 'vagrant-omnibus'\n\nvagrant_plugin 'vagrant-berkshelf'\n  version '1.2.0'\n  sources ['http://src1.example.com', 'http://src2.example.com']\nend\n\n# Install the plugins as the `donuts` user, into ~/donuts/.vagrant.d\nvagrant_plugin 'vagrant-aws'\n  user 'donuts'\nend\n\n# Install the 'vagrant-winrm' plugin for another user. Windows impersonation\n# requires a username and password.\nvagrant_plugin 'vagrant-winrm' do\n  user node['vagrant']['user']\n  password node['vagrant']['password']\nend\n```\n\n### ChefSpec Matchers\n\nThis cookbook provides ChefSpec Custom Matchers for `vagrant_plugin`.\n\nExample:\n\n```ruby\nRSpec.describe 'example::default' do\n  let(:chef_run) { ChefSpec::SoloRunner.converge(described_recipe) }\n\n  it 'installs the vagrant-omnibus plugin' do\n    expect(chef_run).to install_vagrant_plugin('vagrant-omnibus').with(\n      user: 'my_user'\n    )\n  end\nend\n```\n\n# Recipes\n\n## default\n\nThe default recipe includes the platform-family specific recipe to\ninstall Vagrant. If the `node['vagrant']['plugins']` attribute is not empty, it includes the install_plugins recipe to install any required vagrant plugins.\n\n## install_plugins\n\nIterates over the `node['vagrant']['plugins']` attribute and installs the listed plugins. If that attribute is a hash, it installs the specified plugin version. If the `node['vagrant']['user']` attribute is set, the plugins are installed for only that user.\n\n## debian, fedora, mac_os_x, rhel, windows\n\nThese are the platform family recipes included by the default recipe.\nThe `fedora` recipe will include `rhel`.\n\n## uninstall_gem\n\nThis recipe will attempt to uninstall the `vagrant` gem with the\n`gem_package` and `chef_gem` resources. Meaning, it will use the `gem`\nbinary in the `PATH` of the shell executing Chef to uninstall, and\nthen use Chef's built-in RubyGems to uninstall. If you have a\ncustomized Ruby environment, such as with rbenv or rvm (or other), you\nmay need to manually remove and clean up anything leftover, such as\nrunning `rbenv rehash`. Likewise, if you have multiple copies of the\nvagrant gem installed, you'll need to clean up all versions. This\nrecipe won't support such craziness :-).\n\n# Usage\n\nSet the url and checksum attributes on the node. Do this in a role, or\na \"wrapper\" cookbook. Or, just set the version and let the magic happen.\n\nThen include the default recipe on the node's run list.\n\nTo specify plugins for installation in the default recipe, specify an\narray for the `node['vagrant']['plugins']` attribute. For example, to\ninstall the `vagrant-omnibus` plugin (any version) and version \"1.2.0\"\nof the `vagrant-berkshelf` plugin:\n\n```ruby\nnode.set['vagrant']['plugins'] = [\n  'vagrant-omnibus',\n  {name: 'vagrant-berkshelf', version: '1.2.0'}\n]\n```\n\nSee the attribute tables above.\n\n# License and Authors\n\n* Author:: Joshua Timberman <opensource@housepub.org>\n* Author:: Doug Ireton <doug.ireton@nordstrom.com>\n* Copyright (c) 2013-2014, Joshua Timberman\n\n```\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n```\n","maintainer":"Joshua Timberman","maintainer_email":"cookbooks@housepub.org","license":"Apache 2.0","platforms":{"debian":">= 6.0","ubuntu":">= 12.04","redhat":">= 6.3","centos":">= 6.4","windows":">= 0.0.0","mac_os_x":">= 0.0.0"},"dependencies":{"dmg":">= 2.2.2","windows":"~> 1.38"},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{}}